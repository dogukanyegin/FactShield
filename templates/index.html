{% extends "base.html" %}
{% block title %}FactShield - Index{% endblock %}
{% block content %}

  {% if posts|length == 0 %}
    <div class="p-12 text-center text-osint-muted border border-[#333] rounded bg-[#151515]">
      <p class="font-mono text-lg">NO INTELLIGENCE RECORDS FOUND.</p>
      <p class="text-xs mt-2 opacity-60">Database is empty. Login to add records.</p>
    </div>
  {% else %}
    <div class="space-y-6">
      {% for post in posts %}
        <article class="bg-osint-card border border-[#333] rounded-lg p-6 shadow-lg hover:border-osint-green transition-colors">
          <h2 class="text-2xl font-mono text-white mb-2">
            <a class="hover:text-osint-green" href="{{ url_for('post_detail', post_id=post.id) }}">{{ post.title }}</a>
          </h2>

          <div class="text-sm text-osint-muted mb-4 font-mono">
            <span class="mr-4">DATE: {{ post.date.strftime('%Y-%m-%d') }}</span>
            <span>ANALYST: {{ post.author }}</span>
          </div>

          <p class="text-osint-text mb-6 opacity-80">
            {{ post.content[:220] }}{% if post.content|length > 220 %}...{% endif %}
          </p>

          <a href="{{ url_for('post_detail', post_id=post.id) }}"
             class="inline-flex items-center text-osint-green border border-osint-green px-4 py-2 rounded hover:bg-osint-green hover:text-black font-mono font-bold transition-all">
            READ FULL ANALYSIS
          </a>
        </article>
      {% endfor %}
    </div>
  {% endif %}

{% endblock %}
